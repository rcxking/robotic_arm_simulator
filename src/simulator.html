<!DOCTYPE HTML>

<!-- 
simulator.html - Main entry point for the Robotic Arm Simulator.

Bryant Pong
ECSE-4750
10/17/14

Last Updated: 11/1/14 - 11:59 PM
-->


<html>
	<head>
		<h1><b>Robot Arm Simulator</b></h1>
		<link rel="stylesheet" href="simulator.css">
	</head>

	<!-- Vertex Shader -->
	<script id="vertex-shader" type="x-shader/x-vertex">

		/* 
		 * Vertex Attributes:
		 */
		attribute  vec4 vPosition;
		attribute  vec4 vColor;
		
		// Camera Positioning Matrices:
		uniform mat4 modelViewMatrix;
		uniform mat4 projectionMatrix;
		
		// This attribute identifies which rotation matrices to apply to this point:
		
		varying vec4 fColor;

		uniform vec3 theta;

		void main() {
			// Compute the sines and cosines of theta for each of
			//   the three axes in one computation.
			vec3 angles = radians( theta );
			vec3 c = cos( angles );
			vec3 s = sin( angles );

			// Remember: thse matrices are column-major
			mat4 rx = mat4( 1.0,  0.0,  0.0, 0.0,
							0.0,  c.x,  s.x, 0.0,
							0.0, -s.x,  c.x, 0.0,
							0.0,  0.0,  0.0, 1.0 );

			mat4 ry = mat4( c.y, 0.0, -s.y, 0.0,
							0.0, 1.0,  0.0, 0.0,
							s.y, 0.0,  c.y, 0.0,
							0.0, 0.0,  0.0, 1.0 );


			mat4 rz = mat4( c.z, -s.z, 0.0, 0.0,
							s.z,  c.z, 0.0, 0.0,
							0.0,  0.0, 1.0, 0.0,
							0.0,  0.0, 0.0, 1.0 );
							
			/*mat4 test = mat4(1.0, 0.0, 0.0, 0.0,
			                 0.0, 1.0, 0.0, 0.0,
							 0.0, 0.0, 1.0, 0.0,
							 0.25, 0.25, 0.25, 1.0);*/

			fColor = vColor;
			gl_Position = projectionMatrix * modelViewMatrix *  rz * ry * rx * vPosition; // rz * ry * rx * vPosition;
		} // End vertex shader function main()
	</script>

	<!-- Fragment Shader -->
	<script id="fragment-shader" type="x-shader/x-fragment">

		precision mediump float;

		varying vec4 fColor;

		void main() {
			gl_FragColor = fColor;
		} // End fragment shader function main()
	</script>

	<script type="text/javascript" src="webgl-utils.js"></script>
	<script type="text/javascript" src="initShaders.js"></script>
	<script type="text/javascript" src="MV.js"></script>
	<script type="text/javascript" src="simulator.js"></script>

	<body>
		<canvas id="gl-canvas" width="512" height="512">
			Oops ... your browser doesn't support the HTML5 canvas element
		</canvas>
	
		<br/>

		<!-- REMOVE THIS CODE WHEN IMPLEMENTING ROBOT -->

		<input id="cubeAngleX" type="range" min="0" max="400" step="0.01">Adjust Cube Angle (X-Axis)</input>
		<input id="cubeAngleY" type="range" min="0" max="400" step="0.01">Adjust Cube Angle (Y-Axis)</input>
		<input id="cubeAngleZ" type="range" min="0" max="400" step="0.01">Adjust Cube Angle (Z-Axis)</input>
		<!-- END SECTION TO REMOVE -->

		<form>
			<select name="element">
				<option value="button">Button</option>
				<option value="text">Textbox</option>
				<option value="radio">Radio</option>
				<option value="range">Range</option>
			</select>

			<input type="button" value="Add Joint" onclick="addHTMLElement(document.forms[0].element.value)"/>
		
			<span id="nonexistent">&nbsp;</span>
		</form>
		<!-- END TEST ONLY -->

	</body>
</html>

